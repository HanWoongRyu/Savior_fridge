# 냉장고를 부탁해

##  프로젝트 아이디어 및 배경
- 아이디어 
    - 사용자가 물건을 사고 받은 **영수증** 과 **음식의 사진**을 통하여 객체를 분류하고 그에 맞는 유통기한을 편하게 저장하게 하여 버리는 음식을 줄이고 냉장고 관리를 편하게 하기 위한 어플리케이션   
      
    - 사람들의 평소의 식습관, 음식 소비관련 데이터 또한 모아서 새로운 데이터 창출 가능 


    - 영수증의 글자를 잘 못 분류하였을때 그 데이터를 저장하여 모델을 더욱 잘 수행되게 하는 것 또한 목표

- 배경 
    - 2021.06 전반기 졸업작품을 제출을 위한 목적으로 시작된 프로젝트
    - 개인적인 심층신경망의 분류문제에 대한 호기심

-------------------------------

## 실행화면 

gif 이미지는 조금 기다리면 나옵니다.

![](./동작.gif)



![](./결과.PNG)



- android studio 사용
- 효율적인 detecting을 위하여 유저에게 인식을 원하는 위치의 crop을 맡긴다.
- 다른 동작들은 reffi를 실행해보면 알 수 있다. (회원 서버는 실행해놓고 있지 않아 따로 구축해야함)


---------------------------------
## ko-OCR
- socket 통신을 통한 연결 => 사용자에게 이미지를 전달받음 => img_preprocessing => Detection => 문자이미지 segmentaiton 이후 crop => model을 통한 분류
 - Detecting이 잘되지 않는 특정 단어들 (깻잎,등심 등을 찾아 추가로 데이터셋에 넣어주었습니다.)
 - 모델에 대한 전체적인 코드는  https://github.com/parksunwoo/ocr_kor 리포지토리를 따릅니다.
---------------------------------

## classfication food
- 상품 사진으로 상품명과 유통기한을 식별하는 프로그램
[카메라 기반 상품 인식 시스템 개발](https://github.com/mu-in/muin_DL)에서의 pretrined efficient net을 사용하였습니다.

----------------------------------
## 유통기한 데이터 

- Selenium을 통한  동적 크롤링
- tag를 활용하여 상품명과 유통기한을 받아 dict으로 만들고 pkl파일로 저장
- http://www.foodsafetykorea.go.kr/portal/specialinfo/searchInfoProduct.do?menu_grp=MENU_NEW04&menu_no=2815#page1

---------------------------------
아쉬운점 
- 서버들(ko-ocr,food_classfication,회원서버)의 데이터베이스를 합치지 못한것
- 심층신경망에 대한 공부가 부족하여 제대로 이해하지 못하고 실제 있는 코드를 응용하여 데이터셋만 변경한 점
- 식자재 사진 분류는 데이터셋이 부족하여 제대로 동작하지 않는다.  데이터셋에 있는 특정 브랜드의 식자재 사진만 가능하고 또한 제대로 찍히지 않으면 잘 동작하지 않는다.  
- ocr 속도가 느린점 (약 30초 소요)가 실용성이 떨어져 보인다.

--------------------------------
배운점
- 안드로이드 스튜디오 activity 개념
- 심층신경망 모델에서 데이터만 잘 주면 성능이 많이 올라간다는 점 (깻잎, 등심등을 추가로 학습하였을 때 학습성능을 더 보였고, data augmentation (노이즈 추가)또한 도움이 된듯하다.)
- selenium 동적 크롤링 방법
- 이미지 전처리의 방법들 (노이즈 줄이기, affine 변환 , 이미지를 중심에 가져다 두기 etc)




